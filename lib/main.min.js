"use strict";class Str{static of(t){return new Stringable(t)}static after(t,e){return""===e?t:t.slice(t.indexOf(e)+e.length)}static afterLast(t,e){var r;return""===e||-1===(r=t.lastIndexOf(e))?t:t.substring(r+e.length)}static ascii(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9]/g,"")}static before(t,e){return""===e||""===(e=t.substring(0,t.indexOf(e)))?t:e}static beforeLast(t,e){return""===e||-1===(e=null!=(e=t.lastIndexOf(e))?e:null)?t:this.substr(t,0,e)}static between(t,e,r){return""===e||""===r?t:this.beforeLast(this.after(t,e),r)}static betweenFirst(t,e,r){return""===e||""===r?t:this.before(this.after(t,e),r)}static camel(t){return this.lcfirst(this.studly(t))}static charAt(t,e){return t.charAt(e)}static contains(e,t,r=!1){let s=!1;return r&&(e=e.toLowerCase()),(t=t instanceof Array?t:[t]).forEach(t=>{""!==(t=r?t.toLowerCase():t)&&e.includes(t)&&(s=!0)}),s}static containsAll(e,t,r=!1){let s=!0;return t.forEach(t=>{this.contains(e,t,r)||(s=!1)}),s}static endsWith(e,t){let r=!1;return(t=t instanceof Array?t:[t]).forEach(t=>{""!==t&&e.endsWith(t)&&(r=!0)}),r}static excerpt(t,e="",r={}){var s=null!=(s=r.radius)?s:100;const n=null!=(r=r.omission)?r:"...";r=t.split(e);if(1===r.length)return null;t=[t,r[0],e,r.splice(1).join(e)];let i=t[1].trimStart(),a=t[3].trimEnd();return i=this.of(this.substr(i,Math.max(i.length-s,0))).ltrim().unless(t=>t.exactly(i),t=>t.prepend(n)).toString(),a=this.of(this.substr(a,0,s)).rtrim().unless(t=>t.exactly(a),t=>t.append(n)).toString(),(i+" "+t[2]+a).replace(/\s+/g," ").trim()}static finish(t,e){return t.endsWith(e)?t:t+e}static wrap(t,e,r=null){return e+t+(null!=r?r:e)}static unwrap(t,e,r=null){return this.startsWith(t,e)&&(t=this.substr(t,this.length(e))),t=this.endsWith(t,null!=r?r:e)?this.substr(t,0,-this.length(r)):t}static is(t,e){let r=!1;return(t=t instanceof Array?t:[t]).forEach(t=>{t===e&&(r=!0),t=(t=preg_quote(t,"#")).replace(/\\\*/g,".*"),RegExp(e).exec(t)&&(r=!0)}),r}static isAscii(t){return!/[^ -~\t\r\n]/.test(t)}static isJson(t){try{JSON.parse(t)}catch(t){return!1}return!0}static isUrl(t,e=[]){e=0===e.length?"https?|ftp|file|mailto|tel|data|irc|magnet":e.join("|");return new RegExp(`^(?:${e}):\\/\\/(?:[\\w-]+(?:\\.[\\w-]+)+|localhost|\\d{1,3}(?:\\.\\d{1,3}){3})(?::\\d+)?(?:\\S*)?$`,"i").test(t)}static isUuid(t){return new RegExp(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/).test(t)}static isUlid(t){var e;return 26===t.length&&t.length===(null==(e=t.match(/[0123456789ABCDEFGHJKMNPQRSTVWXYZabcdefghjkmnpqrstvwxyz]/g))?void 0:e.length)&&Number(t.charAt(0))<=7}static kebab(t){return this.snake(t,"-")}static length(t){return t.length}static limit(t,e=100,r="..."){return t.length<=e?t:this.substr(t,0,e).trim()+r}static lower(t){return t.toLowerCase()}static words(t,e=100,r="..."){var e=null!=(s=null==(s=t.match(/\S+\s*/g))?void 0:s.splice(0,e))?s:[],s=e.join("");return 1===e.length||this.length(t)===this.length(s)?t:s.trim()+r}static mask(t,e,r,s=null){if(""===e)return t;let n=r,i=null!=s?s:t.length;n<0&&(n=t.length+n,i=n+(null!=s?s:0)),0===i&&(i=n);s=t.substring(n,i);if(""===s)return t;var a=t.length;let l=r<0?r<-a?0:a+r:r;n=t.substring(0,l);a=s.length,r=t.substring(l+a);return n+e.substring(0,1).repeat(a)+r}static match(t,e){var r=/^\/(.*)\/\w*$/.exec(t)[1],t=/^\/.*\/(\w*)$/.exec(t)[1],r=new RegExp(r,t),t=RegExp(r).exec(e);return t?null!=(r=t[1])?r:t[0]:""}static isMatch(t,r){let s=!1;return(t=t instanceof Array?t:[t]).forEach(t=>{t===r&&(s=!0);var e=/^\/(.*)\/\w*$/.exec(t)[1],t=/^\/.*\/(\w*)$/.exec(t)[1],e=new RegExp(e,t);RegExp(e).exec(r)&&(s=!0)}),s}static matchAll(t,e){var r=/^\/(.*)\/\w*$/.exec(t)[1],t=/^\/.*\/(\w*)$/.exec(t)[1],r=new RegExp(r,t+(-1!==t.indexOf("g")?"":"g")),t=[...e.matchAll(r)];return 0===t.length?[]:t.map(t=>t[1])}static padBoth(t,e,r=" "){var e=Math.max(0,e-t.length),s=Math.floor(e/2),e=Math.ceil(e/2);return r.repeat(s).substring(0,s)+t+r.repeat(e).substring(0,e)}static padLeft(t,e,r=" "){e=Math.max(0,e-t.length);return r.repeat(e).substring(0,e)+t}static padRight(t,e,r=" "){e=Math.max(0,e-t.length);return t+r.repeat(e).substring(0,e)}static plural(t,e=2){var r=/[A-Z]/.test(t.charAt(0));if(void 0!==e&&1===e)return t;var s={"(quiz)$":"$1zes","^(ox)$":"$1en","([m|l])ouse$":"$1ice","(matr|vert|ind)ix|ex$":"$1ices","(x|ch|ss|sh)$":"$1es","([^aeiouy]|qu)y$":"$1ies","(hive)$":"$1s","(?:([^f])fe|([lr])f)$":"$1$2ves","(shea|lea|loa|thie)f$":"$1ves",sis$:"ses","([ti])um$":"$1a","(tomat|potat|ech|her|vet)o$":"$1oes","(bu)s$":"$1ses","(alias)$":"$1es","(octop)us$":"$1i","(ax|test)is$":"$1es","(us)$":"$1es","([^s]+)$":"$1s"},n={move:"moves",foot:"feet",goose:"geese",sex:"sexes",child:"children",man:"men",tooth:"teeth",person:"people"};if(0<=["sheep","fish","deer","moose","series","species","money","rice","information","equipment","bison","cod","offspring","pike","salmon","shrimp","swine","trout","aircraft","hovercraft","spacecraft","sugar","tuna","you","wood"].indexOf(t.toLowerCase()))return t;for(const l in n){var i=new RegExp(l+"$","i");if(i.test(t))return t=t.replace(i,n[l]),r?this.ucfirst(t):t}for(const u in s){var a=new RegExp(u,"i");if(a.test(t))return t=t.replace(a,s[u]),r?this.ucfirst(t):t}return r?this.ucfirst(t):t}static pluralStudly(t,e=2){var t=t.split(/(.)(?=[A-Z])/),r=t.pop();return t.join("")+this.ucfirst(this.plural(r,e))}static password(t=32,e=!0,r=!0,s=!0,n=!1){var i=[];let a=[];for(;i.length<t;)e&&(a=a.concat(["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"])),r&&(a=a.concat(["0","1","2","3","4","5","6","7","8","9"])),s&&(a=a.concat(["~","!","#","$","%","^","&","*","(",")","-","_",".",",","<",">","?","/","\\","{","}","[","]","|",":",";"])),n&&(a=a.concat([" "])),i.push(a[Math.floor(Math.random()*a.length)]);return i.join("")}static position(t,e,r=0){return t.indexOf(e,Math.max(r,0))}static random(t=16){var e=3*Math.ceil(t/3),e=crypto.getRandomValues(new Uint8Array(e)).join("");let r=btoa(e);return["/","+","="].forEach(t=>r=r.replace(t,"")),r.substring(0,t)}static repeat(t,e=1){return t.repeat(e)}static replaceArray(r,s,t){t=t.split(r);let n=t.shift();return t.forEach(t=>{var e;return n+=(null!=(e=s.shift())?e:r)+t}),n}static toStringOr(t,e){try{var r=String(t);return"undefined"===r||"null"===r?e:r}catch(t){return e}}static replace(t,e,r,s=!0){return(t=t instanceof Array?t:[t]).forEach(t=>{s||(t=new RegExp(t,"gi")),r=r.replaceAll(t,e)}),r}static replaceFirst(t,e,r){return""!==t&&0!==r.indexOf(t)?r.replace(t,e):r}static replaceStart(t,e,r){return""!==t&&this.startsWith(r,t)?this.replaceFirst(t,e,r):r}static replaceLast(t,e,r){var s;return""!==t&&0!==(s=r.lastIndexOf(t))?r.substring(0,s)+e+r.substring(s+t.length):r}static replaceEnd(t,e,r){return""!==t&&this.endsWith(r,t)?this.replaceLast(t,e,r):r}static replaceMatches(t,e,r){var s=/^\/(.*)\/\w*$/.exec(t)[1],t=/^\/.*\/(\w*)$/.exec(t)[1],s=new RegExp(s,t+(-1!==t.indexOf("g")?"":"g"));return(r=e instanceof Function?r.replace(s,t=>t):r).replace(s,e)}static remove(t,e,r=!0){return(e=r?e.replace(t,""):e.replace(new RegExp(t,"gi"),"")).replace(/\s+/g," ")}static reverse(t){return t.split("").reverse().join("")}static start(t,e){var r=preg_quote(e,"/");return e+t.replace(new RegExp(`^(?:${r})+`,"u"),"")}static upper(t){return t.toUpperCase()}static title(t){return t.split(/[^A-Za-z]/).map(t=>this.ucfirst(t[0]+t.substring(1).toLowerCase())).join(" ")}static headline(t){let e=t.split(" ");return e=1<e.length?e.map(t=>this.title(t)):this.ucsplit(e.join("_")).map(t=>this.title(t)),this.replace(["-","_"," "],"_",e.join("_")).split("_").join(" ").trim()}static apa(t){if(""===t)return t;const r=["and","as","but","for","if","nor","or","so","yet","a","an","the","at","by","for","in","of","off","on","per","to","up","via"];var s=[".","!","?",":","â€”",","],n=t.split(/\s+/).filter(Boolean);n[0]=n[0].charAt(0).toUpperCase()+n[0].slice(1).toLowerCase();for(let e=0;e<n.length;e++){var i=n[e].toLowerCase();if(i.includes("-")){let t=i.split("-");t=t.map(t=>r.includes(t)&&t.length<=3?t:this.ucfirst(t)),n[e]=t.join("-")}else r.includes(i)&&i.length<=3&&0!==e&&!s.includes(n[e-1].slice(-1))?n[e]=i:n[e]=this.ucfirst(i)}return n.join(" ")}static singular(t){var e=/[A-Z]/.test(t.charAt(0)),r={"(quiz)zes$":"$1","(matr)ices$":"$1ix","(vert|ind)ices$":"$1ex","^(ox)en$":"$1","(alias)es$":"$1","(octop|vir)i$":"$1us","(cris|ax|test)es$":"$1is","(shoe)s$":"$1","(o)es$":"$1","(bus)es$":"$1","([m|l])ice$":"$1ouse","(x|ch|ss|sh)es$":"$1","(m)ovies$":"$1ovie","(s)eries$":"$1eries","([^aeiouy]|qu)ies$":"$1y","([lr])ves$":"$1f","(tive)s$":"$1","(hive)s$":"$1","(li|wi|kni)ves$":"$1fe","(shea|loa|lea|thie)ves$":"$1f","(^analy)ses$":"$1sis","((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$":"$1$2sis","([ti])a$":"$1um","(n)ews$":"$1ews","(h|bl)ouses$":"$1ouse","(corpse)s$":"$1","(us)es$":"$1",s$:""},s={move:"moves",foot:"feet",goose:"geese",sex:"sexes",child:"children",man:"men",tooth:"teeth",person:"people"};if(0<=["sheep","fish","deer","moose","series","species","money","rice","information","equipment","bison","cod","offspring","pike","salmon","shrimp","swine","trout","aircraft","hovercraft","spacecraft","sugar","tuna","you","wood"].indexOf(t.toLowerCase()))return t;for(const a in s){var n=new RegExp(s[a]+"$","i");if(n.test(t))return t=t.replace(n,a),e?this.ucfirst(t):t}for(const l in r){var i=new RegExp(l,"i");if(i.test(t))return t=t.replace(i,r[l]),e?this.ucfirst(t):t}return e?this.ucfirst(t):t}static slug(t,e="-",r={"@":"at"}){var s,n;for(s in t=t.replace("!["+preg_quote("-"===e?"_":"-")+"]+!u",e),r)r[s]=e+r[s]+e;for(n in r)t=t.replaceAll(n,r[n]);return(t=this.lower(t).replace("![^"+preg_quote(e)+"pLpNs]+!u","")).replaceAll(/\s/g,e).replace(new RegExp("\\"+e+"+","g"),e)}static snake(t,e="_"){return t=ucwords(t).replace(new RegExp(/\s+/,"u"),""),t=this.lower(t.replace(new RegExp(/(.)(?=[A-Z])/,"ug"),"$1"+e))}static squish(t){return t.replace(/\s\s+/g," ").trim()}static startsWith(e,t){let r=!1;return(t=t instanceof Array?t:[t]).forEach(t=>{""!==t&&e.startsWith(t)&&(r=!0)}),r}static studly(t){return this.replace(["-","_"]," ",t).split(" ").map(t=>this.ucfirst(t)).join("")}static substr(t,e,r=null){return e<0&&(e=t.length+e)<0&&(e=0),null!==r&&r<0?"":0===r?t.substring(e):t.substring(e,e+r)}static substrCount(t,e,r=0,s=null){return s?t.substring(r).substring(0,s).split(e).length-1:t.substring(r).split(e).length-1}static substrReplace(t,e,r=0,s=null){return null!==s?t.substring(0,r)+e+t.substring(r):t.substring(0,r)+e}static swap(t,e){for(const r in t)e=e.replace(r,t[r]);return e}static take(t,e){return e<0?this.substr(t,e):this.substr(t,0,e)}static toBase64(t){return btoa(t)}static fromBase64(t){return atob(t)}static lcfirst(t){return this.lower(this.substr(t,0,1))+this.substr(t,1,t.length)}static ucfirst(t){return this.upper(this.substr(t,0,1))+this.substr(t,1,t.length)}static ucsplit(t){return t.split(new RegExp(/(?=\p{Lu})/,"u"))}static wordCount(t){return t.split(/\s+/).length}static wordWrap(t,e=75,r="\n",s=!1){const n=s?r+"Â­":r;s=new RegExp(`.{1,${e}}`,"g");return t.replace(s,t=>t.trim()+n)}static uuid(){let r=parseInt((1e16*Math.random()).toString().substring(0,13));return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(r+16*Math.random())%16|0;return r=Math.floor(r/16),("x"===t?e:3&e|8).toString(16)})}static orderedUuid(){let r=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(r+16*Math.random())%16|0;return r=Math.floor(r/16),("x"===t?e:3&e|8).toString(16)})}static ulid(){const n="0123456789ABCDEFGHJKMNPQRSTVWXYZ",i=n.length;return function(){let e="",r=(new Date).getTime();for(let t=10;0<t;t--){var s=r%i;e=n.charAt(s)+e,r=(r-s)/i}return e}()+function(){let e="";for(let t=16;0<t;t--){let t=Math.floor((r=void 0,r=new Uint8Array(1),crypto.getRandomValues(r),r[0]/255*i));t===i&&(t=i-1),e+=n.charAt(t)}var r;return e}()}}const str=function(t){return Str.of(t)};class Stringable{constructor(t=""){Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=t}after(t){return new Stringable(Str.after(this.value,t))}afterLast(t){return new Stringable(Str.afterLast(this.value,t))}append(...t){return new Stringable(this.value+t.join(""))}newLine(t=1){return this.append("\n".repeat(t))}ascii(){return new Stringable(Str.ascii(this.value))}basename(t=""){let e=this.value;return this.value.split("/")[0]!==this.value&&(e=this.value.split("/").pop()),this.value.split("\\")[0]!==this.value&&(e=this.value.split("\\").pop()),""!==t&&(e=e.replace(t,"")),new Stringable(e)}charAt(t){return Str.charAt(this.value,t)}classBasename(){return this.basename()}before(t){return new Stringable(Str.before(this.value,t))}beforeLast(t){return new Stringable(Str.beforeLast(this.value,t))}between(t,e){return new Stringable(Str.between(this.value,t,e))}betweenFirst(t,e){return new Stringable(Str.betweenFirst(this.value,t,e))}camel(){return new Stringable(Str.camel(this.value))}contains(t,e=!1){return Str.contains(this.value,t,e)}containsAll(t,e=!1){return Str.containsAll(this.value,t,e)}dirname(t=1){let e=this.value,r=[],s=!1,n=!1;return this.value.split("/")[0]!==this.value&&(r=this.value.split("/"),e=r.slice(0,r.length-t).join("/"),s=!0,n=r.length<=t+1),this.value.split("\\")[0]!==this.value&&(r=this.value.split("\\"),e=r.slice(0,r.length-t).join("\\"),s=!0,n=r.length<=t+1),s||(e="."),s&&n&&(e="\\"),new Stringable(e)}endsWith(t){return Str.endsWith(this.value,t)}exactly(t){return t instanceof Stringable&&(t=t.toString()),this.value===t}excerpt(t="",e={}){return Str.excerpt(this.value,t,e)}explode(t,e=0){if(0===e)return[this.value];let r=this.value.split(t);t=e-1>=r.length?r.length-1:e-1;return r=[...r.slice(0,t),r.splice(t).join(" ")]}split(t,e=-1){var r=/^\/(.*)\/\w*$/.exec(t)[1],t=/^\/.*\/(\w*)$/.exec(t)[1],r=new RegExp(r,t+(-1!==t.indexOf("g")?"":"g"));let s=this.value.split(r);return-1!==e&&(t=e-1>=s.length?s.length-1:e-1,s=[...s.slice(0,t),s.splice(t).join("")]),null!=(r=s.map(t=>t.trim()))?r:[]}finish(t){return new Stringable(Str.finish(this.value,t))}is(t){return Str.is(t,this.value)}isAscii(){return Str.isAscii(this.value)}isJson(){return Str.isJson(this.value)}isUrl(){return Str.isUrl(this.value)}isUuid(){return Str.isUuid(this.value)}isUlid(){return Str.isUlid(this.value)}isEmpty(){return""===this.value}isNotEmpty(){return!this.isEmpty()}kebab(){return new Stringable(Str.kebab(this.value))}length(){return Str.length(this.value)}limit(t=100,e="..."){return new Stringable(Str.limit(this.value,t,e))}lower(){return new Stringable(Str.lower(this.value))}mask(t,e,r=null){return new Stringable(Str.mask(this.value,t,e,r))}match(t){return new Stringable(Str.match(t,this.value))}isMatch(...t){return Str.isMatch(t,this.value)}matchAll(t){return Str.matchAll(t,this.value)}test(t){return this.match(t).isNotEmpty()}padBoth(t,e=" "){return new Stringable(Str.padBoth(this.value,t,e))}padLeft(t,e=" "){return new Stringable(Str.padLeft(this.value,t,e))}padRight(t,e=" "){return new Stringable(Str.padRight(this.value,t,e))}pipe(t){return this.value[t]instanceof Function?new Stringable(this.value[t]()):window[t]instanceof Function?new Stringable(window[t](this.value)):new Stringable(t(this).toString())}plural(t=2){return new Stringable(Str.plural(this.value,t))}pluralStudly(t=2){return new Stringable(Str.pluralStudly(this.value,t))}position(t,e=0){return Str.position(this.value,t,e)}prepend(...t){return new Stringable(t.join("")+this.value)}remove(t,e=!0){return new Stringable(Str.remove(t,this.value,e))}reverse(){return new Stringable(Str.reverse(this.value))}repeat(t){return new Stringable(Str.repeat(this.value,t))}replace(t,e){return new Stringable(Str.replace(t,e,this.value))}replaceArray(t,e){return new Stringable(Str.replaceArray(t,e,this.value))}replaceFirst(t,e){return new Stringable(Str.replaceFirst(t,e,this.value))}replaceLast(t,e){return new Stringable(Str.replaceLast(t,e,this.value))}replaceMatches(t,e){var r=/^\/(.*)\/\w*$/.exec(t)[1],t=/^\/.*\/(\w*)$/.exec(t)[1],r=new RegExp(r,t+(-1!==t.indexOf("g")?"":"g"));return e instanceof Function&&this.value.replace(r,t=>t),new Stringable(this.value.replace(r,e))}squish(){return new Stringable(Str.squish(this.value))}start(t){return new Stringable(Str.start(this.value,t))}upper(){return new Stringable(Str.upper(this.value))}title(){return new Stringable(Str.title(this.value))}headline(){return new Stringable(Str.headline(this.value))}apa(){return new Stringable(Str.apa(this.value))}singular(){return new Stringable(Str.singular(this.value))}slug(t="-",e={"@":"at"}){return new Stringable(Str.slug(this.value,t,e))}snake(t="_"){return new Stringable(Str.snake(this.value,t))}startsWith(t){return Str.startsWith(this.value,t)}studly(){return new Stringable(Str.studly(this.value))}substr(t,e=null){return new Stringable(Str.substr(this.value,t,e))}substrCount(t,e=0,r=null){return Str.substrCount(this.value,t,e,r)}substrReplace(t,e=0,r=null){return new Stringable(Str.substrReplace(this.value,t,e,r))}swap(t){return new Stringable(Str.swap(t,this.value))}take(t){return t<0?this.substr(t):this.substr(0,t)}tap(t){return t(this),this}trim(t=null){return(t=(t instanceof Array?t:[...arguments]).filter(t=>null!==t.match("[^A-Za-z0-9_]"))).forEach(t=>this.value=this.value.replaceAll(t,"")),new Stringable(this.value.trim())}ltrim(t=null){return(t=(t instanceof Array?t:[...arguments]).filter(t=>null!==t.match("[^A-Za-z0-9_]"))).forEach(t=>this.value=Str.replaceFirst(t,"",this.value)),new Stringable(this.value.trimStart())}rtrim(t=null){return(t=(t instanceof Array?t:[...arguments]).filter(t=>null!==t.match("[^A-Za-z0-9_]"))).forEach(t=>this.value=Str.replaceLast(t,"",this.value)),new Stringable(this.value.trimEnd())}lcfirst(){return new Stringable(Str.lcfirst(this.value))}ucfirst(){return new Stringable(Str.ucfirst(this.value))}ucsplit(){return Str.ucsplit(this.value)}when(t,e,r=null){return(t=t instanceof Function?t(this):t)?null!=(e=e(this,t))?e:this:r&&null!=(e=r(this,t))?e:this}unless(t,e,r=null){return(t=t instanceof Function?t(this):t)?r&&null!=(r=r(this,t))?r:this:null!=(r=e(this,t))?r:this}whenContains(t,e,r=null){return this.when(this.contains(t),e,r)}whenContainsAll(t,e,r=null){return this.when(this.containsAll(t),e,r)}whenEmpty(t,e=null){return this.when(this.isEmpty(),t,e)}whenNotEmpty(t,e=null){return this.when(this.isNotEmpty(),t,e)}whenEndsWith(t,e,r=null){return this.when(this.endsWith(t),e,r)}whenExactly(t,e,r=null){return this.when(this.exactly(t),e,r)}whenNotExactly(t,e,r=null){return this.when(!this.exactly(t),e,r)}whenIs(t,e,r=null){return this.when(this.is(t),e,r)}whenIsAscii(t,e=null){return this.when(this.isAscii(),t,e)}whenIsUuid(t,e=null){return this.when(this.isUuid(),t,e)}whenIsUlid(t,e=null){return this.when(this.isUlid(),t,e)}whenStartsWith(t,e,r=null){return this.when(this.startsWith(t),e,r)}whenTest(t,e,r=null){return this.when(this.test(t),e,r)}words(t=100,e="..."){return new Stringable(Str.words(this.value,t,e))}wordCount(){return Str.wordCount(this.value)}wordWrap(t=75,e="\n",r=!1){return new Stringable(Str.wordWrap(this.value,t,e,r))}wrap(t,e=null){return new Stringable(Str.wrap(this.value,t,e))}unwrap(t,e=null){return new Stringable(Str.unwrap(this.value,t,e))}toHtmlString(){return new HtmlString(this.value).toHtml()}toBase64(){return new Stringable(Str.toBase64(this.value))}fromBase64(){return new Stringable(Str.fromBase64(this.value))}dump(){console.log(this.value)}dd(){throw this.dump(),new Error("dd()")}toString(){return this.value}toInteger(){return isNaN(parseInt(this.value))?0:parseInt(this.value)}toFloat(){return isNaN(parseFloat(this.value))?0:parseFloat(this.value)}toBoolean(){switch(this.value){case"1":case"true":case"on":case"yes":return!0;default:return!1}}toDate(t=null,e=null){if("Invalid Date"===new Date(this.value).toString())return"Invalid Date";if(null===t)return(new Date).toLocaleDateString("en-us",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,timeZone:null!=e?e:void 0});let r="",s=[],n=[];var i=new Date(new Date(this.value).toLocaleString("en-US",{timeZone:null!=e?e:void 0})),a=i.getMonth(),l=i.getDay(),u=i.getDate(),h=i.getFullYear(),o=i.getHours(),c=i.getMinutes(),p=i.getMilliseconds();for(const $ of t)switch($){case"d":r+=Str.padLeft(u.toString(),2,"0");break;case"D":s=["Sun","Mon","Tue","Wed","Thr","Fri","Sat"],r+=s[l];break;case"j":r+=u;break;case"l":s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r+=s[l];break;case"N":r+=l;break;case"S":r+=null!=(g={1:"st",2:"nd",3:"rd",21:"st",22:"nd",23:"rd",31:"st"}[u])?g:"th";break;case"w":r+=l;break;case"z":var g=new Date(h,0,0),f=i-g+60*(g.getTimezoneOffset()-i.getTimezoneOffset())*1e3,f=Math.floor(f/864e5);r+=f;break;case"W":var f=new Date(Date.UTC(h,a,u)),v=f.getUTCDay()||7,v=(f.setUTCDate(f.getUTCDate()+4-v),new Date(Date.UTC(f.getUTCFullYear(),0,1))),v=Math.ceil(((f-v)/864e5+1)/7);r+=v;break;case"F":n=["January","February","March","April","May","June","July","August","September","October","November","December"],r+=n[a];break;case"m":v=a+1;r+=Str.padLeft(v.toString(),2,"0");break;case"M":n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r+=n[a];break;case"n":r+=a+1;break;case"t":r+=new Date(h,a+1,0).getDate();break;case"L":r+=1===new Date(h,1,29).getMonth();break;case"o":r+=i.toISOString().substring(0,4);break;case"X":r+=h<0?"-"+h:"+"+h;break;case"x":r+=h<1e4?"+"+h:h;break;case"Y":r+=h;break;case"y":r+=h.toString().substring(2);break;case"a":r+=o<12?"am":"pm";break;case"A":r+=o<12?"AM":"PM";break;case"B":var b=i.getUTCHours(),S=i.getUTCMinutes(),w=i.getUTCSeconds();r+=Math.floor(1e3*((b+1)%24+S/60+w/3600)/24);break;case"g":r+=12<o?o-12:o;break;case"G":r+=o;break;case"h":r+=Str.padLeft((12<o?o-12:o).toString(),2,"0");break;case"H":r+=Str.padLeft(o.toString(),2,"0");break;case"i":r+=Str.padLeft(c.toString(),2,"0");break;case"s":r+=Str.padLeft(p.toString(),2,"0");break;case"u":r+=Str.padLeft((1e3*p).toString(),6,"0");break;case"v":r+=Str.padLeft(p.toString(),3,"0");break;case"e":b=i.toLocaleDateString("en-us",{timeZoneName:"shortOffset",timeZone:null!=e?e:void 0}).split(", ").pop().trim();r+=b;break;case"I":S=new Date(h,0,1).getTimezoneOffset(),w=new Date(h,6,1).getTimezoneOffset();r+=Math.max(S,w)!==i.getTimezoneOffset();break;case"O":var m=i.toLocaleDateString("en-us",{timeZoneName:"longOffset",timeZone:null!=e?e:void 0}).split(", ").pop().trim();r+=3!==m.length?m.substring(3).replace(":",""):"+0000";break;case"P":m=i.toLocaleDateString("en-us",{timeZoneName:"longOffset",timeZone:null!=e?e:void 0}).split(", ").pop().trim();r+=3!==m.length?m.substring(3):"+00:00";break;case"p":var d=i.toLocaleDateString("en-us",{timeZoneName:"longOffset",timeZone:null!=e?e:void 0}).split(", ").pop().trim();r+="GMT"===d?"Z":d.substring(3);break;case"T":d=i.toLocaleDateString("en-us",{timeZoneName:"short",timeZone:null!=e?e:void 0}).split(", ").pop().trim();r+=d;break;case"Z":var x=i.toLocaleDateString("en-us",{timeZoneName:"short",timeZone:null!=e?e:void 0}).split(", ").pop().trim();r+="GMT"===x?0:3600*parseInt(x.substring(3));break;case"c":r+=i.toISOString();break;case"r":r+=new Stringable(this.value).toDate("D, d M Y H:i:s O",e);break;case"U":r+=Math.floor(i.getTime()/1e3);break;default:r+=$}return r}}class HtmlString{constructor(t=""){Object.defineProperty(this,"html",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.html=t}toHtml(){var t,e=RegExp(/(?!<!DOCTYPE)<([^\s>]+)(\s|>)+/).exec(this.html);return e?((t=document.createElement(e[1])).innerHTML=this.html,"html"===e[1]?t:String(t.firstChild)):this.html}isEmpty(){return""===this.html}isNotEmpty(){return!this.isEmpty()}toString(){var t=this.toHtml();return t instanceof HTMLElement?t.outerHTML:t instanceof Node?t.textContent:t}}function preg_quote(t,e=null){return(t+"").replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\"+(null!=e?e:"")+"-]","g"),"\\$&")}function ucwords(t,e=" \t\r\n\f\v"){return t.split(e).map(t=>{var e;return(null==(e=t[0])?void 0:e.toUpperCase())+t.substring(1)}).join(" ")}"undefined"!=typeof exports&&(module.exports.Str=Str,module.exports.str=str);