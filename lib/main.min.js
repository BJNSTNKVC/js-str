var Mode;(t=>{t[t.MB_CASE_UPPER=0]="MB_CASE_UPPER",t[t.MB_CASE_LOWER=1]="MB_CASE_LOWER",t[t.MB_CASE_TITLE=2]="MB_CASE_TITLE",t[t.MB_CASE_FOLD=3]="MB_CASE_FOLD",t[t.MB_CASE_UPPER_SIMPLE=4]="MB_CASE_UPPER_SIMPLE",t[t.MB_CASE_LOWER_SIMPLE=5]="MB_CASE_LOWER_SIMPLE",t[t.MB_CASE_TITLE_SIMPLE=6]="MB_CASE_TITLE_SIMPLE",t[t.MB_CASE_FOLD_SIMPLE=7]="MB_CASE_FOLD_SIMPLE"})(Mode=Mode||{});class Str{static of(t){return new Stringable(t)}static after(t,e){return""===e?t:t.slice(t.indexOf(e)+e.length)}static afterLast(t,e){var r;return""===e||-1===(r=t.lastIndexOf(e))?t:t.substring(r+e.length)}static ascii(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9]/g,"")}static before(t,e){return""===e||""===(e=t.substring(0,t.indexOf(e)))?t:e}static beforeLast(t,e){return""===e||-1===(e=null!=(e=t.lastIndexOf(e))?e:null)?t:this.substr(t,0,e)}static between(t,e,r){return""===e||""===r?t:this.beforeLast(this.after(t,e),r)}static betweenFirst(t,e,r){return""===e||""===r?t:this.before(this.after(t,e),r)}static camel(t){return this.lcfirst(this.studly(t))}static charAt(t,e){return t.charAt(e)}static chopStart(e,t){let r=e;return(t=Array.isArray(t)?t:[t]).forEach(t=>{e.startsWith(t)&&(r=e.substring(t.length))}),r}static chopEnd(e,t){let r=e;return(t=Array.isArray(t)?t:[t]).forEach(t=>{e.endsWith(t)&&(r=e.substring(0,e.length-t.length))}),r}static contains(e,t,r=!1){let n=!1;return r&&(e=e.toLowerCase()),(t=t instanceof Array?t:[t]).forEach(t=>{""!==(t=r?t.toLowerCase():t)&&e.includes(t)&&(n=!0)}),n}static containsAll(e,t,r=!1){let n=!0;return t.forEach(t=>{this.contains(e,t,r)||(n=!1)}),n}static doesntContain(t,e,r=!1){return!this.contains(t,e,r)}static convertCase(t,e=Mode.MB_CASE_FOLD){switch(e){case Mode.MB_CASE_UPPER:t=t.toLocaleUpperCase();break;case Mode.MB_CASE_LOWER:t=t.toLocaleLowerCase();break;case Mode.MB_CASE_TITLE:t=this.title(t);break;case Mode.MB_CASE_FOLD:t=t.toLocaleLowerCase();break;case Mode.MB_CASE_UPPER_SIMPLE:t=t.toUpperCase();break;case Mode.MB_CASE_LOWER_SIMPLE:t=t.toLowerCase();break;case Mode.MB_CASE_TITLE_SIMPLE:t=this.title(t);break;case Mode.MB_CASE_FOLD_SIMPLE:t=t.toLowerCase()}return t}static deduplicate(t,e=" "){var r=new RegExp(e+"+","g");return t.replace(r,e)}static endsWith(e,t){let r=!1;return(t=t instanceof Array?t:[t]).forEach(t=>{""!==t&&e.endsWith(t)&&(r=!0)}),r}static excerpt(t,e="",r={}){var n=null!=(n=r.radius)?n:100;let s=null!=(r=r.omission)?r:"...";r=t.split(e);if(1===r.length)return null;t=[t,r[0],e,r.splice(1).join(e)];let i=t[1].trimStart(),a=t[3].trimEnd();return i=this.of(this.substr(i,Math.max(i.length-n,0),n)).ltrim().unless(t=>t.exactly(i),t=>t.prepend(s)).toString(),a=this.of(this.substr(a,0,n)).rtrim().unless(t=>t.exactly(a),t=>t.append(s)).toString(),(i+" "+t[2]+a).replace(/\s+/g," ").trim()}static finish(t,e){return t.endsWith(e)?t:t+e}static wrap(t,e,r=null){return e+t+(null!=r?r:e)}static unwrap(t,e,r=null){return this.startsWith(t,e)&&(t=this.replaceFirst(e,"",t)),t=this.endsWith(t,null!=r?r:e)?this.replaceLast(null!=r?r:e,"",t):t}static is(t,e){var r;for(r of Array.isArray(t)?t:[t]){if(r===e)return!0;if(r=r.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&").replace(/\\\*/g,".*"),new RegExp("^"+r+"$","u").test(e))return!0}return!1}static isAscii(t){return!/[^ -~\t\r\n]/.test(t)}static isJson(t){try{JSON.parse(t)}catch(t){return!1}return!0}static isUrl(t,e=[]){e=0===e.length?"https?|ftp|file|mailto|tel|data|irc|magnet":e.join("|");return new RegExp(`^(?:${e}):\\/\\/(?:[\\w-]+(?:\\.[\\w-]+)+|localhost|\\d{1,3}(?:\\.\\d{1,3}){3})(?::\\d+)?(?:\\S*)?$`,"i").test(t)}static isUuid(t){return new RegExp(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/).test(t)}static isUlid(t){var e;return 26===t.length&&t.length===(null==(e=t.match(/[0123456789ABCDEFGHJKMNPQRSTVWXYZabcdefghjkmnpqrstvwxyz]/g))?void 0:e.length)&&Number(t.charAt(0))<=7}static kebab(t){return this.snake(t,"-")}static length(t){return t.length}static limit(t,e=100,r="...",n=!1){if(t.length<=e)return t;if(!n)return this.substr(t,0,e).trim()+r;t=t.replace(/[\n\r]+/," ");n=this.substr(t,0,e).trim();return" "===this.substr(t,e,1)?""+n+r:""+n.replace(/(.*)\s.*/,"$1")+r}static lower(t){return t.toLowerCase()}static words(t,e=100,r="..."){var e=null!=(n=null==(n=t.match(/\S+\s*/g))?void 0:n.splice(0,e))?n:[],n=e.join("");return 1===e.length||this.length(t)===this.length(n)?t:n.trim()+r}static mask(t,e,r,n=null){if(""===e)return t;let s=r,i=null!=n?n:t.length;s<0&&(s=t.length+s,i=s+(null!=n?n:0)),0===i&&(i=s);n=t.substring(s,i);if(""===n)return t;var a=t.length;let l=r<0?r<-a?0:a+r:r;s=t.substring(0,l);a=n.length,r=t.substring(l+a);return s+e.substring(0,1).repeat(a)+r}static match(t,e){var r=RegExpString.make(/^\/(.*)\/\w*$/,t),t=RegExpString.make(/^\/.*\/(\w*)$/,t),r=new RegExp(r,t),t=RegExp(r).exec(e);return t?null!=(r=t[1])?r:t[0]:""}static isMatch(t,r){let n=!1;return(t=t instanceof Array?t:[t]).forEach(t=>{t===r&&(n=!0);var e=/^\/(.*)\/\w*$/.exec(t)[1],t=/^\/.*\/(\w*)$/.exec(t)[1],e=new RegExp(e,t);RegExp(e).exec(r)&&(n=!0)}),n}static matchAll(t,e){var r=RegExpString.make(/^\/(.*)\/\w*$/,t),t=RegExpString.make(/^\/.*\/(\w*)$/,t),r=new RegExp(r,t+(-1!==t.indexOf("g")?"":"g")),t=[...e.matchAll(new RegExp(r,"g"))];return 0===t.length?[]:t.map(t=>String(1===t.length?t[0]:t[1]))}static numbers(t){return t.replace(/[^0-9]/g,"")}static padBoth(t,e,r=" "){var e=Math.max(0,e-t.length),n=Math.floor(e/2),e=Math.ceil(e/2);return r.repeat(n).substring(0,n)+t+r.repeat(e).substring(0,e)}static padLeft(t,e,r=" "){e=Math.max(0,e-(null!=(e=t.length)?e:0));return r.repeat(e).substring(0,e)+t}static padRight(t,e,r=" "){e=Math.max(0,e-t.length);return t+r.repeat(e).substring(0,e)}static plural(t,e=2){var r=/[A-Z]/.test(t.charAt(0));if(void 0!==e&&1===e)return t;var n,s,i={"(quiz)$":"$1zes","^(ox)$":"$1en","([m|l])ouse$":"$1ice","(matr|vert|ind)ix|ex$":"$1ices","(x|ch|ss|sh)$":"$1es","([^aeiouy]|qu)y$":"$1ies","(hive)$":"$1s","(?:([^f])fe|([lr])f)$":"$1$2ves","(shea|lea|loa|thie)f$":"$1ves",sis$:"ses","([ti])um$":"$1a","(tomat|potat|ech|her|vet)o$":"$1oes","(bu)s$":"$1ses","(alias)$":"$1es","(octop)us$":"$1i","(ax|test)is$":"$1es","(us)$":"$1es","([^s]+)$":"$1s"},a={move:"moves",foot:"feet",goose:"geese",sex:"sexes",child:"children",human:"humans",man:"men",tooth:"teeth",person:"people"};if(0<=["sheep","fish","feedback","deer","moose","series","species","money","rice","information","equipment","bison","cod","offspring","pike","salmon","shrimp","swine","trout","aircraft","hovercraft","spacecraft","sugar","tuna","you","wood"].indexOf(t.toLowerCase()))return t;for(n in a){var l=new RegExp(n+"$","i");if(l.test(t))return t=t.replace(l,a[n]),r?this.ucfirst(t):t}for(s in i){var u=new RegExp(s,"i");if(u.test(t))return t=t.replace(u,i[s]),r?this.ucfirst(t):t}return r?this.ucfirst(t):t}static pluralStudly(t,e=2){var t=t.split(/(.)(?=[A-Z])/),r=t.pop();return t.join("")+this.ucfirst(this.plural(r,e))}static password(t=32,e=!0,r=!0,n=!0,s=!1){var i=[];let a=[];for(;i.length<t;)e&&(a=a.concat(["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"])),r&&(a=a.concat(["0","1","2","3","4","5","6","7","8","9"])),n&&(a=a.concat(["~","!","#","$","%","^","&","*","(",")","-","_",".",",","<",">","?","/","\\","{","}","[","]","|",":",";"])),s&&(a=a.concat([" "])),i.push(a[Math.floor(Math.random()*a.length)]);return i.join("")}static position(t,e,r=0){t=t.indexOf(e,Math.max(r,0));return-1!==t&&t}static random(t=16){var e=3*Math.ceil(t/3),e=crypto.getRandomValues(new Uint8Array(e)).join("");let r=btoa(e);return["/","+","="].forEach(t=>r=r.replace(t,"")),r.substring(0,t)}static repeat(t,e=1){return t.repeat(e)}static replaceArray(r,n,t){t=t.split(r);let s=t.shift();return t.forEach(t=>{var e;return s+=Str.toStringOr(null!=(e=n.shift())?e:r,r)+t}),s}static toStringOr(t,e){try{var r=String(t);return"undefined"===r||"null"===r?e:r}catch(t){return e}}static replace(t,e,r,n=!0){return(t=t instanceof Array?t:[t]).forEach(t=>{n||(t=new RegExp(t,"gi")),r=r.replaceAll(t,e)}),r}static replaceFirst(t,e,r){return""!==t&&void 0!==r.indexOf(t)?r.replace(t,e):r}static replaceStart(t,e,r){return""!==t&&this.startsWith(r,t)?this.replaceFirst(t,e,r):r}static replaceLast(t,e,r){var n;return""!==t&&0!==(n=r.lastIndexOf(t))?r.substring(0,n)+e+r.substring(n+t.length):r}static replaceEnd(t,e,r){return""!==t&&this.endsWith(r,t)?this.replaceLast(t,e,r):r}static replaceMatches(t,e,r){var n=RegExpString.make(/^\/(.*)\/\w*$/,t),t=RegExpString.make(/^\/.*\/(\w*)$/,t),n=new RegExp(n,t+(-1!==t.indexOf("g")?"":"g"));return(r=e instanceof Function?r.replace(n,t=>t):r).replace(n,e)}static remove(t,e,r=!0){return e.replace(new RegExp(t,r?"g":"gi"),"")}static reverse(t){return t.split("").reverse().join("")}static start(t,e){var r=preg_quote(e,"/");return e+t.replace(new RegExp(`^(?:${r})+`,"u"),"")}static upper(t){return t.toUpperCase()}static title(t){return t.split(/[^A-Za-z]/).map(t=>this.ucfirst(t[0]+t.substring(1).toLowerCase())).join(" ")}static headline(t){let e=t.split(" ");return e=1<e.length?e.map(t=>this.title(t)):this.ucsplit(e.join("_")).map(t=>this.title(t)),this.replace(["-","_"," "],"_",e.join("_")).split("_").join(" ").trim()}static apa(t){if(""===t)return t;let r=["and","as","but","for","if","nor","or","so","yet","a","an","the","at","by","for","in","of","off","on","per","to","up","via"];var n=[".","!","?",":","â€”",","],s=t.split(/\s+/).filter(Boolean);s[0]=s[0].charAt(0).toUpperCase()+s[0].slice(1).toLowerCase();for(let e=0;e<s.length;e++){var i=s[e].toLowerCase();if(i.includes("-")){let t=i.split("-");t=t.map(t=>r.includes(t)&&t.length<=3?t:this.ucfirst(t)),s[e]=t.join("-")}else r.includes(i)&&i.length<=3&&0!==e&&!n.includes(s[e-1].slice(-1))?s[e]=i:s[e]=this.ucfirst(i)}return s.join(" ")}static singular(t){var e,r,n=/[A-Z]/.test(t.charAt(0)),s={"(quiz)zes$":"$1","(matr)ices$":"$1ix","(vert|ind)ices$":"$1ex","^(ox)en$":"$1","(alias)es$":"$1","(octop|vir)i$":"$1us","(cris|ax|test)es$":"$1is","(shoe)s$":"$1","(o)es$":"$1","(bus)es$":"$1","([m|l])ice$":"$1ouse","(x|ch|ss|sh)es$":"$1","(m)ovies$":"$1ovie","(s)eries$":"$1eries","([^aeiouy]|qu)ies$":"$1y","([lr])ves$":"$1f","(tive)s$":"$1","(hive)s$":"$1","(li|wi|kni)ves$":"$1fe","(shea|loa|lea|thie)ves$":"$1f","(^analy)ses$":"$1sis","((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$":"$1$2sis","([ti])a$":"$1um","(n)ews$":"$1ews","(h|bl)ouses$":"$1ouse","(corpse)s$":"$1","(us)es$":"$1",s$:""},i={move:"moves",foot:"feet",goose:"geese",sex:"sexes",child:"children",man:"men",tooth:"teeth",person:"people"};if(0<=["sheep","fish","deer","moose","series","species","money","rice","information","equipment","bison","cod","offspring","pike","salmon","shrimp","swine","trout","aircraft","hovercraft","spacecraft","sugar","tuna","you","wood"].indexOf(t.toLowerCase()))return t;for(e in i){var a=new RegExp(i[e]+"$","i");if(a.test(t))return t=t.replace(a,e),n?this.ucfirst(t):t}for(r in s){var l=new RegExp(r,"i");if(l.test(t))return t=t.replace(l,s[r]),n?this.ucfirst(t):t}return n?this.ucfirst(t):t}static slug(t,e="-",r={"@":"at"}){var n,s;for(n in t=t.replace("!["+preg_quote("-"===e?"_":"-")+"]+!u",e),r)r[n]=e+r[n]+e;for(s in r)t=t.replaceAll(s,r[s]);return(t=this.lower(t).replace("![^"+preg_quote(e)+"pLpNs]+!u","")).replaceAll(/\s/g,e).replace(new RegExp("\\"+e+"+","g"),e)}static snake(t,e="_"){return t=ucwords(t).replace(new RegExp(/\s+/,"u"),""),t=this.lower(t.replace(new RegExp(/(.)(?=[A-Z])/,"ug"),"$1"+e))}static trim(t,e=null){if(null===e)return t.trim();if(""===e)return t;if(" "===e)return t.replaceAll(" ","");e=e.split("").join("|");var e=new RegExp(e+"+","g");return null!=(e=t.replace(e,""))?e:t}static ltrim(e,t=null){if(null===t)return e.trimStart();if(""!==t){if(" "===t)return this.replaceStart(" ","",e);t.split("").forEach(t=>e=this.replaceStart(t,"",e))}return e}static rtrim(e,t=null){if(null===t)return e.trimEnd();if(""!==t){if(" "===t)return this.replaceEnd(" ","",e);t.split("").forEach(t=>e=this.replaceEnd(t,"",e))}return e}static squish(t){return t.replace(/\s\s+/g," ").trim()}static startsWith(e,t){let r=!1;return(t=t instanceof Array?t:[t]).forEach(t=>{""!==t&&e.startsWith(t)&&(r=!0)}),r}static studly(t){return this.replace(["-","_"]," ",t).split(" ").map(t=>this.ucfirst(t)).join("")}static substr(t,e,r=null){return e<0&&(e=t.length+e)<0&&(e=0),null!==r&&r<0?"":0===r||null===r?t.substring(e,null!=r?r:t.length):t.substring(e,e+r)}static substrCount(t,e,r=0,n=null){return n?t.substring(r).substring(0,n).split(e).length-1:t.substring(r).split(e).length-1}static substrReplace(t,e,r=0,n=null){return null!==n?t.substring(0,r)+e+t.substring(r):t.substring(0,r)+e}static swap(t,e){for(var r in t)e=e.replace(r,t[r]);return e}static take(t,e){return e<0?this.substr(t,e):this.substr(t,0,e)}static toBase64(t){return btoa(t)}static fromBase64(t){return atob(t)}static lcfirst(t){return this.lower(this.substr(t,0,1))+this.substr(t,1,t.length)}static ucfirst(t){return this.upper(this.substr(t,0,1))+this.substr(t,1,t.length)}static ucsplit(t){return t.split(new RegExp(/(?=\p{Lu})/u))}static wordCount(t){return t.split(/\s+/).length}static wordWrap(t,e=75,r="\n",n=!1){let s=n?r+"Â­":r;n=new RegExp(`.{1,${e}}`,"g"),e=t.replace(n,t=>t.trim()+s);return this.replaceLast(r,"",e)}static uuid(){let r=parseInt((Math.random()*Number.MAX_SAFE_INTEGER+1).toString().substring(0,13));return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(r+16*Math.random())%16|0;return r=Math.floor(r/16),("x"===t?e:3&e|8).toString(16)})}static orderedUuid(){let r=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(r+16*Math.random())%16|0;return r=Math.floor(r/16),("x"===t?e:3&e|8).toString(16)})}static ulid(){let s="0123456789ABCDEFGHJKMNPQRSTVWXYZ",i=s.length;return(()=>{let e="",r=(new Date).getTime();for(let t=10;0<t;t--){var n=r%i;e=s.charAt(n)+e,r=(r-n)/i}return e})()+(()=>{let e="";for(let t=16;0<t;t--){let t=Math.floor((r=void 0,r=new Uint8Array(1),crypto.getRandomValues(r),r[0]/255*i));t===i&&(t=i-1),e+=s.charAt(t)}var r;return e})()}}class Stringable{constructor(t=""){Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._value=t}after(t){return new Stringable(Str.after(this._value,t))}afterLast(t){return new Stringable(Str.afterLast(this._value,t))}append(...t){return new Stringable(this._value+t.join(""))}newLine(t=1){return this.append("\n".repeat(t))}ascii(){return new Stringable(Str.ascii(this._value))}basename(t=""){let e=this._value;return this._value.split("/")[0]!==this._value&&(e=this._value.split("/").pop()),this._value.split("\\")[0]!==this._value&&(e=this._value.split("\\").pop()),""!==t&&(e=e.replace(t,"")),new Stringable(e)}charAt(t){return Str.charAt(this._value,t)}chopStart(t){return new Stringable(Str.chopStart(this._value,t))}chopEnd(t){return new Stringable(Str.chopEnd(this._value,t))}classBasename(){return this.basename()}before(t){return new Stringable(Str.before(this._value,t))}beforeLast(t){return new Stringable(Str.beforeLast(this._value,t))}between(t,e){return new Stringable(Str.between(this._value,t,e))}betweenFirst(t,e){return new Stringable(Str.betweenFirst(this._value,t,e))}camel(){return new Stringable(Str.camel(this._value))}contains(t,e=!1){return Str.contains(this._value,t,e)}containsAll(t,e=!1){return Str.containsAll(this._value,t,e)}doesntContain(t,e=!1){return!this.contains(t,e)}convertCase(t=Mode.MB_CASE_FOLD){return new Stringable(Str.convertCase(this._value,t))}deduplicate(t=" "){return new Stringable(Str.deduplicate(this._value,t))}dirname(t=1){let e=this._value,r=[],n=!1,s=!1;return this._value.split("/")[0]!==this._value&&(r=this._value.split("/"),e=r.slice(0,r.length-t).join("/"),n=!0,s=r.length<=t+1),this._value.split("\\")[0]!==this._value&&(r=this._value.split("\\"),e=r.slice(0,r.length-t).join("\\"),n=!0,s=r.length<=t+1),n||(e="."),n&&s&&(e="\\"),new Stringable(e)}endsWith(t){return Str.endsWith(this._value,t)}exactly(t){return t instanceof Stringable&&(t=t.toString()),this._value===t}excerpt(t="",e={}){return Str.excerpt(this._value,t,e)}explode(t,e=0){let r=this._value.split(t);t=e-1>=r.length?r.length-1:e-1;return r=[...r.slice(0,t),r.splice(t).join(" ")]}split(t,e=-1){var r=RegExpString.make(/^\/(.*)\/\w*$/,t),t=RegExpString.make(/^\/.*\/(\w*)$/,t),r=new RegExp(r,t+(-1!==t.indexOf("g")?"":"g"));let n=this._value.split(r);return-1!==e&&(t=e-1>=n.length?n.length-1:e-1,n=[...n.slice(0,t),n.splice(t).join("")]),null!=(r=n.map(t=>t.trim()))?r:[]}finish(t){return new Stringable(Str.finish(this._value,t))}is(t){return Str.is(t,this._value)}isAscii(){return Str.isAscii(this._value)}isJson(){return Str.isJson(this._value)}isUrl(){return Str.isUrl(this._value)}isUuid(){return Str.isUuid(this._value)}isUlid(){return Str.isUlid(this._value)}isEmpty(){return""===this._value.trim()}isNotEmpty(){return!this.isEmpty()}kebab(){return new Stringable(Str.kebab(this._value))}length(){return Str.length(this._value)}limit(t=100,e="...",r=!1){return new Stringable(Str.limit(this._value,t,e,r))}lower(){return new Stringable(Str.lower(this._value))}mask(t,e,r=null){return new Stringable(Str.mask(this._value,t,e,r))}match(t){return new Stringable(Str.match(t,this._value))}isMatch(...t){return Str.isMatch(t,this._value)}matchAll(t){return Str.matchAll(t,this._value)}test(t){return this.match(t).isNotEmpty()}numbers(){return new Stringable(Str.numbers(this._value))}padBoth(t,e=" "){return new Stringable(Str.padBoth(this._value,t,e))}padLeft(t,e=" "){return new Stringable(Str.padLeft(this._value,t,e))}padRight(t,e=" "){return new Stringable(Str.padRight(this._value,t,e))}pipe(t){return this._value[t]instanceof Function?new Stringable(this._value[t]()):window[t]instanceof Function?new Stringable(window[t](this._value)):new Stringable(t(this).toString())}plural(t=2){return new Stringable(Str.plural(this._value,t))}pluralStudly(t=2){return new Stringable(Str.pluralStudly(this._value,t))}position(t,e=0){return Str.position(this._value,t,e)}prepend(...t){return new Stringable(t.join("")+this._value)}remove(t,e=!0){return new Stringable(Str.remove(t,this._value,e))}reverse(){return new Stringable(Str.reverse(this._value))}repeat(t){return new Stringable(Str.repeat(this._value,t))}replace(t,e,r=!0){return new Stringable(Str.replace(t,e,this._value,r))}replaceArray(t,e){return new Stringable(Str.replaceArray(t,e,this._value))}replaceFirst(t,e){return new Stringable(Str.replaceFirst(t,e,this._value))}replaceStart(t,e){return new Stringable(Str.replaceStart(t,e,this._value))}replaceLast(t,e){return new Stringable(Str.replaceLast(t,e,this._value))}replaceEnd(t,e){return new Stringable(Str.replaceEnd(t,e,this._value))}replaceMatches(t,e){var r=RegExpString.make(/^\/(.*)\/\w*$/,t),t=RegExpString.make(/^\/.*\/(\w*)$/,t),r=new RegExp(r,t+(-1!==t.indexOf("g")?"":"g"));return e instanceof Function&&this._value.replace(r,t=>t),new Stringable(this._value.replace(r,e))}squish(){return new Stringable(Str.squish(this._value))}start(t){return new Stringable(Str.start(this._value,t))}upper(){return new Stringable(Str.upper(this._value))}title(){return new Stringable(Str.title(this._value))}headline(){return new Stringable(Str.headline(this._value))}apa(){return new Stringable(Str.apa(this._value))}singular(){return new Stringable(Str.singular(this._value))}slug(t="-",e={"@":"at"}){return new Stringable(Str.slug(this._value,t,e))}snake(t="_"){return new Stringable(Str.snake(this._value,t))}startsWith(t){return Str.startsWith(this._value,t)}studly(){return new Stringable(Str.studly(this._value))}substr(t,e=null){return new Stringable(Str.substr(this._value,t,e))}substrCount(t,e=0,r=null){return Str.substrCount(this._value,t,e,r)}substrReplace(t,e=0,r=null){return new Stringable(Str.substrReplace(this._value,t,e,r))}swap(t){return new Stringable(Str.swap(t,this._value))}take(t){return t<0?this.substr(t):this.substr(0,t)}tap(t){return t(this),this}trim(t=null){return(t=(t instanceof Array?t:[...arguments]).filter(t=>null!==t.match("[^A-Za-z0-9_]"))).forEach(t=>this._value=this._value.replaceAll(t,"")),new Stringable(this._value.trim())}ltrim(t=null){return(t=(t instanceof Array?t:[...arguments]).filter(t=>null!==t.match("[^A-Za-z0-9_]"))).forEach(t=>this._value=Str.replaceFirst(t,"",this._value)),new Stringable(this._value.trimStart())}rtrim(t=null){return(t=(t instanceof Array?t:[...arguments]).filter(t=>null!==t.match("[^A-Za-z0-9_]"))).forEach(t=>this._value=Str.replaceLast(t,"",this._value)),new Stringable(this._value.trimEnd())}lcfirst(){return new Stringable(Str.lcfirst(this._value))}ucfirst(){return new Stringable(Str.ucfirst(this._value))}ucsplit(){return Str.ucsplit(this._value)}when(t,e,r=null){return(t=t instanceof Function?t(this):t)?null!=(e=e(this,t))?e:this:r&&null!=(e=r(this,t))?e:this}unless(t,e,r=null){return(t=t instanceof Function?t(this):t)?r&&null!=(r=r(this,t))?r:this:null!=(r=e(this,t))?r:this}whenContains(t,e,r=null){return this.when(this.contains(t),e,r)}whenContainsAll(t,e,r=null){return this.when(this.containsAll(t),e,r)}whenEmpty(t,e=null){return this.when(this.isEmpty(),t,e)}whenNotEmpty(t,e=null){return this.when(this.isNotEmpty(),t,e)}whenEndsWith(t,e,r=null){return this.when(this.endsWith(t),e,r)}whenExactly(t,e,r=null){return this.when(this.exactly(t),e,r)}whenNotExactly(t,e,r=null){return this.when(!this.exactly(t),e,r)}whenIs(t,e,r=null){return this.when(this.is(t),e,r)}whenIsAscii(t,e=null){return this.when(this.isAscii(),t,e)}whenIsUuid(t,e=null){return this.when(this.isUuid(),t,e)}whenIsUlid(t,e=null){return this.when(this.isUlid(),t,e)}whenStartsWith(t,e,r=null){return this.when(this.startsWith(t),e,r)}whenTest(t,e,r=null){return this.when(this.test(t),e,r)}words(t=100,e="..."){return new Stringable(Str.words(this._value,t,e))}wordCount(){return Str.wordCount(this._value)}wordWrap(t=75,e="\n",r=!1){return new Stringable(Str.wordWrap(this._value,t,e,r))}wrap(t,e=null){return new Stringable(Str.wrap(this._value,t,e))}unwrap(t,e=null){return new Stringable(Str.unwrap(this._value,t,e))}toHtmlString(){return new HtmlString(this._value).toHtml()}toBase64(){return new Stringable(Str.toBase64(this._value))}fromBase64(){return new Stringable(Str.fromBase64(this._value))}dump(){console.log(this._value)}dd(){throw this.dump(),new Error("dd()")}value(){return this.toString()}toString(){return this._value}toInteger(){return isNaN(parseInt(this._value))?0:parseInt(this._value)}toFloat(){return isNaN(parseFloat(this._value))?0:parseFloat(this._value)}toBoolean(){switch(this._value){case"1":case"true":case"on":case"yes":return!0;default:return!1}}toDate(t=null,r=null){if("Invalid Date"===new Date(this._value).toString())return"Invalid Date";if(null===t)return new Date(this._value).toLocaleDateString("en-us",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,timeZone:null!=r?r:void 0});let n="";var s=new Date(new Date(this._value).toLocaleString("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",fractionalSecondDigits:3,hour12:!1,timeZone:null!=r?r:void 0})),e=s.getMonth(),i=s.getDay(),a=s.getDate(),l=s.getFullYear();let u=s.getHours(),o=s.getMinutes(),h=s.getSeconds();var c,p=s.getMilliseconds();for(c of t.match(/\\?.|./g))switch(c){case"d":n+=Str.padLeft(a.toString(),2,"0");break;case"D":n+=s.toLocaleString("en-US",{weekday:"short"});break;case"j":n+=a;break;case"l":n+=s.toLocaleString("en-US",{weekday:"long"});break;case"N":n+=0!==i?i:0;break;case"S":n+=null!=(g={1:"st",2:"nd",3:"rd",21:"st",22:"nd",23:"rd",31:"st"}[a])?g:"th";break;case"w":n+=i;break;case"z":var g=new Date(l,0,0),S=s-g+60*(g.getTimezoneOffset()-s.getTimezoneOffset())*1e3,S=Math.floor(S/864e5);n+=S;break;case"W":var S=new Date(Date.UTC(l,e,a)),f=S.getUTCDay()||7,f=(S.setUTCDate(S.getUTCDate()+4-f),new Date(Date.UTC(S.getUTCFullYear(),0,1))),f=Math.ceil(((S-f)/864e5+1)/7);n+=Str.padLeft(f.toString(),2,"0");break;case"F":n+=s.toLocaleString("en-US",{month:"long"});break;case"m":f=e+1;n+=Str.padLeft(f.toString(),2,"0");break;case"M":n+=s.toLocaleString("en-US",{month:"short"});break;case"n":n+=e+1;break;case"t":n+=new Date(l,e+1,0).getDate();break;case"L":n+=1===new Date(l,1,29).getMonth()?"1":"0";break;case"o":n+=s.toISOString().substring(0,4);break;case"X":n+=l<0?"-"+l:"+"+l;break;case"x":n+=l<1e4?l:"-"+l;break;case"Y":n+=l;break;case"y":n+=l.toString().substring(2);break;case"a":n+=u<12?"am":"pm";break;case"A":n+=u<12?"AM":"PM";break;case"B":{let t=s.getUTCHours(),e=s.getUTCMinutes(),r=s.getUTCSeconds();n+=Math.floor(1e3*((t+1)%24+e/60+r/3600)/24);break}case"g":n+=12<u?u-12:u;break;case"G":n+=u;break;case"h":n+=Str.padLeft((12<u?u-12:u).toString(),2,"0");break;case"H":n+=Str.padLeft(u.toString(),2,"0");break;case"i":n+=Str.padLeft(o.toString(),2,"0");break;case"s":n+=Str.padLeft(h.toString(),2,"0");break;case"u":throw new Error("Microseconds are not supported.");case"v":n+=Str.padLeft(p.toString(),3,"0");break;case"e":n+=Intl.DateTimeFormat("en-us",{timeZone:null!=r?r:void 0}).resolvedOptions().timeZone;break;case"I":var w=new Date(l,0,1).getTimezoneOffset(),v=new Date(l,6,1).getTimezoneOffset();n+=Math.max(w,v)!==s.getTimezoneOffset()?"1":"0";break;case"O":w=s.toLocaleDateString("en-us",{timeZoneName:"longOffset",timeZone:null!=r?r:void 0}).split(", ").pop().trim();n+=3!==w.length?w.substring(3).replace(":",""):"+0000";break;case"P":v=s.toLocaleDateString("en-us",{timeZoneName:"longOffset",timeZone:null!=r?r:void 0}).split(", ").pop().trim();n+=3!==v.length?v.substring(3):"+00:00";break;case"p":var b=s.toLocaleDateString("en-us",{timeZoneName:"longOffset",timeZone:null!=r?r:void 0}).split(", ").pop().trim();n+="GMT"===b?"Z":b.substring(3);break;case"T":b=s.toLocaleDateString("en-us",{timeZoneName:"short",timeZone:null!=r?r:void 0}).split(", ").pop().trim();n+=null!=r?r:b.replace("GMT","UTC").split(/[+-]/)[0];break;case"Z":{var m=s.toLocaleDateString("en-us",{timeZoneName:"longOffset",timeZone:null!=r?r:void 0}),d=m.match(/[+-]/),m=m.split(/[+-]/),d=d?d.pop():"+",m=2===m.length?m[1]:"0:00";let t=parseInt(m.split(":")[0]),e=parseInt(m.split(":")[1]);m=3600*t+60*e;n+=""+d+m;break}case"c":n+=""+this.toDate("Y-m-d\\TH:i:sP");break;case"r":n+=new Stringable(this._value).toDate("D, d M Y H:i:s O",r);break;case"U":n+=Math.floor(s.getTime()/1e3);break;default:n+=2<=c.length&&-1<c.indexOf("\\")?c.replace("\\",""):c}return n}}class HtmlString{constructor(t=""){Object.defineProperty(this,"html",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.html=t}toHtml(){var t,e=RegExp(/(?!<!DOCTYPE)<([^\s>]+)(\s|>)+/).exec(this.html);return e?((t=document.createElement(e[1])).innerHTML=this.html,"html"===e[1]?t:String(t.firstChild)):this.html}isEmpty(){return""===this.html}isNotEmpty(){return!this.isEmpty()}toString(){var t=this.toHtml();return t instanceof HTMLElement?t.outerHTML:t instanceof Node?t.textContent:t}}let str=function(t=""){return Str.of(t)};class RegExpString{static make(t,e){if(""===e)throw new Error("Empty regular expression.");if(!e.startsWith("/"))throw new Error("Delimiter must not be alphanumeric, backslash, or NUL.");if(e.startsWith("/")&&1===e.length||!e.endsWith("/"))throw new Error("No ending delimiter '/'.");t=new RegExp(t).exec(e);return t?t[1]:""}}function preg_quote(t,e=null){return(t+"").replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\"+(null!=e?e:"")+"-]","g"),"\\$&")}function ucwords(t,e=" \t\r\n\f\v"){return t.split(e).map(t=>{var e;return(null==(e=t[0])?void 0:e.toUpperCase())+t.substring(1)}).join(" ")}if("undefined"!=typeof exports&&(module.exports.Str=Str,module.exports.str=str),"undefined"!=typeof global){let t=global;t.Mode=Mode,t.Str=Str,t.Stringable=Stringable,t.str=str}